{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "CakeML",
  "patterns": [
    {"include": "#operators"},
    {"include": "#symbols"},
    {"include": "#keywords"},
    {"include": "#comments"},
    {"include": "#strings"},
    {"include": "#decimals"},
    {"include": "#hexadecimals"},
    {"include": "#constructors"},
    {"include": "#constants"},
    {"include": "#constant-types"}],
  "repository": {
    "symbols": {
      "patterns": [{
        "name": "keyword.control.cakeml",
        "match": "(=>|=|\\||\\:|\\;)"
      }]
    },
    "keywords": {
      "patterns": [{
        "name": "keyword.control.cakeml",
        "match": "\\b(fun|fn|val|let|local|in|end|if|then|else|datatype|type|case|of|structure|struct|exception|handle|raise|op)\\b"
      }]
    },
   "comments": {
      "name": "comment.block.cakeml",
      "begin": "\\(\\*",
      "end": "\\*\\)"
    },
    "strings": {
      "name": "string.quoted.double.cakeml",
      "begin": "#?\"",
      "end": "\"",
      "patterns": [{
     	  "name": "constant.character.escape.cakeml",
          "match": "\\\\."
      }]
    },
    "decimals": {
      "patterns": [{
        "name": "constant.numeric.decimal.cakeml",
        "match": "\\b\\d+\\b"
      }]
    },
    "hexadecimals": {
      "patterns": [{
        "name": "constant.numeric.hexadecimal.cakeml",
        "match": "\\b0x\\h+\\b"
      }]
    },
    "operators": {
      "patterns": [{
        "name": "keyword.operator.cakeml",
        "match": "(\\+|\\-|\\~|\\*|\\/|\\bdiv\\b|\\bmod\\b|\\borelse\\b|\\bandalso\\b|\\<\\>|\\<\\=|\\>\\=|\\<|\\>|\\bo\\b|\\-\\>|\\^|\\@|:\\=|\\!|\\>\\>|\\<\\<|\\~\\>\\>|\\[|\\,|\\]|::)"
      }]
    },
    "constructors": {
      "name": "constant.language.constructor.cakeml",
      "match": "\\b[A-Z]\\w*\\b"
    },
    "constants": {
      "name": "constant.language.value.cakeml",
      "match": "\\(\\)"
    },
    "constant-types": {
      "name": "support.type.cakeml",
      "match": "\\b(?<=[^\\.])(unit|bool|int|rat|char|string|option|list|map|ordering)\\b"
    }
  },
  "scopeName": "source.cakeml"
}